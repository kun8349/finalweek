import{_ as f,m as g,c as i,b as s,d as l,w as _,t as a,k as y,F as O,r as p,o as c,z as w,p as x,f as D}from"./index-f0e198c8.js";import{S as h}from"./sweetalert2.all-24826e54.js";import{c as k}from"./cart-42632c94.js";const{VITE_URL:u,VITE_PATH:m}={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"kevin-jiang",BASE_URL:"/finalweek/",MODE:"production",DEV:!1,PROD:!0},L={data(){return{OrderData:{},is_paid:!1,isLoading:!0}},methods:{getOrder(){this.isLoading=!0,this.$http.get(`${u}api/${m}/order/${this.$route.params.id}`).then(o=>{this.OrderData=o.data.order,this.isLoading=!1})},changeStatus(){this.isLoading=!0,this.$http.post(`${u}api/${m}/pay/${this.$route.params.id}`).then(o=>{this.is_paid=!0,this.isLoading=!1,h.fire({icon:"success",title:"付款成功",showConfirmButton:!1,timer:1e3})}).catch(()=>{h.fire({icon:"success",title:"付款失敗",showConfirmButton:!1,timer:1e3})})}},computed:{...g(k,["orderPrice"])},mounted(){this.getOrder()}},t=o=>(x("data-v-ecf200e0"),o=o(),D(),o),S=t(()=>s("div",{id:"load"},[s("div",null,"G"),s("div",null,"N"),s("div",null,"I"),s("div",null,"D"),s("div",null,"A"),s("div",null,"O"),s("div",null,"L")],-1)),V={class:"container"},I=t(()=>s("h2",{class:"mt-12 mb-3"},"訂單成立",-1)),E=t(()=>s("p",null,"感謝您訂購我們的商品，收到訂單後，預計1~2天出貨，請您耐心等候",-1)),T=t(()=>s("div",{class:"w-75 mx-auto mt-25"},[s("ul",{class:"progressbar list-unstyled d-flex justify-content-between mb-0"},[s("li",null,"購物車"),s("li",null,"填寫資料"),s("li",{class:"active"},"完成訂單")]),s("div",{class:"progress",style:{height:"5px"}},[s("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":"33.3","aria-valuemin":"0","aria-valuemax":"100",style:{width:"100%"}})])],-1)),A={class:"row justify-content-center mt-10 mb-25"},B={class:"col-lg-8 bg-secondary"},C={class:"text-center py-6 px-9"},N=t(()=>s("h2",null,"訂單資訊",-1)),P=t(()=>s("hr",{class:"text-black mt-6"},null,-1)),j={class:"row justify-content-center"},R={class:"col-lg-9"},U={class:"w-100"},F={key:0,class:"text-start fs-3"},H={class:""},z=t(()=>s("td",{class:"pb-5"},"訂單編號",-1)),G={class:"pb-5"},M={class:""},$=t(()=>s("td",{class:"pb-5"},"成立時間",-1)),q={class:"pb-5"},J={class:""},K=t(()=>s("td",{class:"pb-5"},"姓名",-1)),Q={class:"pb-5"},W={class:""},X=t(()=>s("td",{class:"pb-5"},"電話",-1)),Y={class:"pb-5"},Z={class:""},ss=t(()=>s("td",{class:"pb-5"},"信箱",-1)),ts={class:"pb-5"},es={class:""},os=t(()=>s("td",{class:"pb-5"},"地址",-1)),as={class:"pb-5"},is=t(()=>s("td",{class:"pb-5"},"留言",-1)),cs={class:"pb-5"},ds=t(()=>s("td",{class:"pb-5"},"訂單金額",-1)),rs={class:"pb-5"},ns={class:""},ls=t(()=>s("td",{class:"pb-5"},"付款狀態",-1)),_s={class:"pb-5"},ps={key:0,class:"text-success"},hs={key:1,class:"text-danger"},us={key:1,class:"py-8"};function ms(o,d,bs,vs,e,n){const b=p("AppLoading"),v=p("router-link");return c(),i(O,null,[s("div",null,[l(b,{active:e.isLoading,"onUpdate:active":d[0]||(d[0]=r=>e.isLoading=r)},{default:_(()=>[S]),_:1},8,["active"])]),s("div",V,[I,E,T,s("div",A,[s("div",B,[s("div",C,[N,P,s("div",j,[s("div",R,[s("table",U,[e.OrderData.user?(c(),i("tbody",F,[s("tr",H,[z,s("td",G,a(e.OrderData.id),1)]),s("tr",M,[$,s("td",q,a()+a(o.$filters.date(e.OrderData.create_at)),1)]),s("tr",J,[K,s("td",Q,a(e.OrderData.user.name),1)]),s("tr",W,[X,s("td",Y,a(e.OrderData.user.tel),1)]),s("tr",Z,[ss,s("td",ts,a(e.OrderData.user.email),1)]),s("tr",es,[os,s("td",as,a(e.OrderData.user.address),1)]),s("tr",null,[is,s("td",cs,a(e.OrderData.message),1)]),s("tr",null,[ds,s("td",rs,a(o.orderPrice),1)]),s("tr",ns,[ls,s("td",_s,[e.is_paid?(c(),i("span",ps,"完成付款")):(c(),i("span",hs,"尚未付款"))])])])):y("",!0)]),e.is_paid?(c(),i("div",us,[l(v,{to:"/",class:"fs-5"},{default:_(()=>[w("返回首頁")]),_:1})])):(c(),i("button",{key:0,type:"button",class:"btn btn-primary btn-lg py-4 px-12 mt-5 mb-10",onClick:d[1]||(d[1]=(...r)=>n.changeStatus&&n.changeStatus(...r))}," 確認付款 "))])])])])])])],64)}const Os=f(L,[["render",ms],["__scopeId","data-v-ecf200e0"]]);export{Os as default};
